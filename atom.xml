<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è´¹é»˜ - åˆ†äº«</title>
  
  <subtitle>è’è¯-åæŠ—</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lilong7676.github.io/"/>
  <updated>2022-08-31T06:54:09.661Z</updated>
  <id>https://lilong7676.github.io/</id>
  
  <author>
    <name>lilong7676</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>webå‰ç«¯Proxyæ²™ç®±å®ç°æ—¶éœ€æ³¨æ„RegExpç­‰åŸç”Ÿå¯¹è±¡é—®é¢˜</title>
    <link href="https://lilong7676.github.io/2022/08/31/javascript/web%E5%89%8D%E7%AB%AFProxy%E6%B2%99%E7%AE%B1%E5%AE%9E%E7%8E%B0%E6%97%B6%E9%9C%80%E6%B3%A8%E6%84%8FRegExp%E7%AD%89%E5%8E%9F%E7%94%9F%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98/"/>
    <id>https://lilong7676.github.io/2022/08/31/javascript/webå‰ç«¯Proxyæ²™ç®±å®ç°æ—¶éœ€æ³¨æ„RegExpç­‰åŸç”Ÿå¯¹è±¡é—®é¢˜/</id>
    <published>2022-08-31T06:52:01.000Z</published>
    <updated>2022-08-31T06:54:09.661Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜èµ·å› "><a href="#é—®é¢˜èµ·å› " class="headerlink" title="é—®é¢˜èµ·å› "></a>é—®é¢˜èµ·å› </h2><p>èµ·å› æ˜¯ä¸€ä¸ªå‰ç«¯jsæ²™ç®±çš„å®ç°ä¸­ï¼Œå‘ç°é€šè¿‡æ²™ç®±æ‰§è¡Œä»£ç ä¸­è®¿é—® RegExp.$n çš„å€¼ä¸€ç›´æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œç±»ä¼¼äºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> code = <span class="string">`</span></span><br><span class="line"><span class="string">    const r = /^(\\d&#123;4&#125;)-(\\d&#123;1,2&#125;)-(\\d&#123;1,2&#125;)$/</span></span><br><span class="line"><span class="string">    r.exec('2022-08-31')</span></span><br><span class="line"><span class="string">    return RegExp.$1;`</span>;</span><br><span class="line">evalScriptInSandbox(code);</span><br></pre></td></tr></table></figure><a id="more"></a><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>evalScriptInSandbox(code)</code> åº”è¯¥è¿”å› <code>&#39;2022&#39;</code>,ä½†æ˜¯æ‰§è¡Œå‘ç°åªä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œæœ€åå‘ç°æ˜¯ RegExp çš„æ‰§è¡Œä¸Šä¸‹æ–‡é—®é¢˜ã€‚</p><p>å› ä¸ºæ²™ç®±çš„å®ç°ç±»ä¼¼äºè¿™ç§ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> evalScriptSandbox = <span class="function">(<span class="params">code, fakeWindow</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> resolver = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">`</span></span><br><span class="line"><span class="string">    return function(window) &#123;</span></span><br><span class="line"><span class="string">      with(window) &#123;</span></span><br><span class="line"><span class="string">        try &#123;</span></span><br><span class="line"><span class="string">          return (function() &#123;</span></span><br><span class="line"><span class="string">            "use strict";</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;code&#125;</span></span></span><br><span class="line"><span class="string">          &#125;)();</span></span><br><span class="line"><span class="string">        &#125; catch(e) &#123;</span></span><br><span class="line"><span class="string">          console.log(e);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  `</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ­£æ˜¯è¿™é‡Œçš„ call(fakeWindow)å¯¼è‡´ RegExp æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡æ˜¯ fakeWindow </span></span><br><span class="line">  <span class="comment">// è€Œä¸æ˜¯çœŸæ­£çš„å®¿ä¸» window,å¯¼è‡´ bug äº§ç”Ÿ</span></span><br><span class="line">  <span class="keyword">return</span> resolver().call(fakeWindow, fakeWindow);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹å¼å°±æ˜¯è®¿é—®<code>fakeWindow</code>ä¸­çš„ <code>RegExp</code> å¯¹è±¡æ—¶ï¼Œéœ€è¦è¿”å›å®¿ä¸»ç¯å¢ƒçš„ <code>RegExp</code>ï¼Œè¿™å’Œæµè§ˆå™¨çš„å†…éƒ¨å®ç°æœ‰å…³ç³»ï¼Œæš‚æ—¶æ²¡å‘ç°å…¶ä»–çš„è§£å†³æ–¹å¼ã€‚</p><h2 id="Reproduce-Step"><a href="#Reproduce-Step" class="headerlink" title="Reproduce Step :"></a>Reproduce Step :</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm i</span><br><span class="line">$ npm run start</span><br></pre></td></tr></table></figure><h2 id="âš ï¸"><a href="#âš ï¸" class="headerlink" title="âš ï¸"></a>âš ï¸</h2><p>âš ï¸å¦å¤–éœ€è¦æ³¨æ„ï¼Œåœ¨ evalã€Function æ„é€ å‡½æ•°ä¸­æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œéœ€è¦è½¬ä¹‰åæ–œçº¿ï¼Œå³:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">`</span></span><br><span class="line"><span class="string">const r = /^(\d&#123;4&#125;)-(\d&#123;1,2&#125;)-(\d&#123;1,2&#125;)$/</span></span><br><span class="line"><span class="string">r.exec('2022-08-31'); // null</span></span><br><span class="line"><span class="string">console.log(RegExp.$1) // ''</span></span><br><span class="line"><span class="string">`</span>)</span><br></pre></td></tr></table></figure><p>åœ¨ eval ä¸­éœ€è¦å†™ä¸º:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">`</span></span><br><span class="line"><span class="string">const r = /^(\\d&#123;4&#125;)-(\\d&#123;1,2&#125;)-(\\d&#123;1,2&#125;)$/</span></span><br><span class="line"><span class="string">r.exec('2022-08-31');</span></span><br><span class="line"><span class="string">console.log(RegExp.$1); // 2022</span></span><br><span class="line"><span class="string">`</span>)</span><br></pre></td></tr></table></figure><h3 id="ç±»ä¼¼çš„åŸç”Ÿå¯¹è±¡ï¼Œå¦‚-eval-ç­‰ï¼Œä¹Ÿä¼šåœ¨è¿™ç§æ²™ç®±çš„å®ç°æ–¹å¼ä¸­å‡ºç°ä½œç”¨åŸŸé—®é¢˜ï¼Œéœ€è¦æ³¨æ„ã€‚"><a href="#ç±»ä¼¼çš„åŸç”Ÿå¯¹è±¡ï¼Œå¦‚-eval-ç­‰ï¼Œä¹Ÿä¼šåœ¨è¿™ç§æ²™ç®±çš„å®ç°æ–¹å¼ä¸­å‡ºç°ä½œç”¨åŸŸé—®é¢˜ï¼Œéœ€è¦æ³¨æ„ã€‚" class="headerlink" title="ç±»ä¼¼çš„åŸç”Ÿå¯¹è±¡ï¼Œå¦‚ eval ç­‰ï¼Œä¹Ÿä¼šåœ¨è¿™ç§æ²™ç®±çš„å®ç°æ–¹å¼ä¸­å‡ºç°ä½œç”¨åŸŸé—®é¢˜ï¼Œéœ€è¦æ³¨æ„ã€‚"></a>ç±»ä¼¼çš„åŸç”Ÿå¯¹è±¡ï¼Œå¦‚ eval ç­‰ï¼Œä¹Ÿä¼šåœ¨è¿™ç§æ²™ç®±çš„å®ç°æ–¹å¼ä¸­å‡ºç°ä½œç”¨åŸŸé—®é¢˜ï¼Œéœ€è¦æ³¨æ„ã€‚</h3>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é—®é¢˜èµ·å› &quot;&gt;&lt;a href=&quot;#é—®é¢˜èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜èµ·å› &quot;&gt;&lt;/a&gt;é—®é¢˜èµ·å› &lt;/h2&gt;&lt;p&gt;èµ·å› æ˜¯ä¸€ä¸ªå‰ç«¯jsæ²™ç®±çš„å®ç°ä¸­ï¼Œå‘ç°é€šè¿‡æ²™ç®±æ‰§è¡Œä»£ç ä¸­è®¿é—® RegExp.$n çš„å€¼ä¸€ç›´æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œç±»ä¼¼äºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; code = &lt;span class=&quot;string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;    const r = /^(\\d&amp;#123;4&amp;#125;)-(\\d&amp;#123;1,2&amp;#125;)-(\\d&amp;#123;1,2&amp;#125;)$/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;    r.exec(&#39;2022-08-31&#39;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;    return RegExp.$1;`&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;evalScriptInSandbox(code);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://lilong7676.github.io/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>è®° RegExp å­—é¢é‡å½¢å¼åœ¨ eval åŠ new Functioné‡Œçš„è¡Œä¸ºå¼‚å¸¸é—®é¢˜</title>
    <link href="https://lilong7676.github.io/2022/08/29/uncategorized/%E8%AE%B0RegExp-%E5%9C%A8Eval%E5%8F%8Anew-Function%E9%87%8C%E7%9A%84%E8%A1%8C%E4%B8%BA%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98/"/>
    <id>https://lilong7676.github.io/2022/08/29/uncategorized/è®°RegExp-åœ¨EvalåŠnew-Functioné‡Œçš„è¡Œä¸ºå¼‚å¸¸é—®é¢˜/</id>
    <published>2022-08-29T01:31:43.000Z</published>
    <updated>2022-08-29T02:04:57.165Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆçœ‹ä¸€ä¸‹æœ€ç®€å•çš„ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> r = <span class="regexp">/^(\d&#123;4&#125;)-(\d&#123;1,2&#125;)-(\d&#123;1,2&#125;)$/</span>;</span><br><span class="line">r.exec(<span class="string">'2019-10-08'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">1</span>); <span class="comment">// 2019</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ®µä»£ç åœ¨ Chrome console ä¸­æ‰§è¡Œç»“æœä¸º 2019ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">`</span></span><br><span class="line"><span class="string">const r = /^(\d&#123;4&#125;)-(\d&#123;1,2&#125;)-(\d&#123;1,2&#125;)$/;</span></span><br><span class="line"><span class="string">r.exec('2019-10-08');</span></span><br><span class="line"><span class="string">RegExp.$1;</span></span><br><span class="line"><span class="string">`</span>); <span class="comment">// ''</span></span><br></pre></td></tr></table></figure><p><code>é‡æ–°æ‰“å¼€ä¸€ä¸ª Chrome console</code>, ç„¶åæ‰§è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œç»“æœä¸º<code>ç©ºå­—ç¬¦ä¸²</code>ï¼Œç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå‘ç°åœ¨ eval ä¸­æ‰§è¡Œ regxçš„å­—é¢é‡æ—¶ï¼Œéœ€è¦<code>é¢å¤–è½¬ä¹‰</code>åæ–œçº¿ï¼Œå³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">`</span></span><br><span class="line"><span class="string">const r = /^(\\d&#123;4&#125;)-(\\d&#123;1,2&#125;)-(\\d&#123;1,2&#125;)$/;</span></span><br><span class="line"><span class="string">r.exec('2019-10-08');</span></span><br><span class="line"><span class="string">RegExp.$1;</span></span><br><span class="line"><span class="string">`</span>); <span class="comment">// '2019'</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>å‚è€ƒèµ„æ–™ï¼š</p><ol><li><a href="https://stackoverflow.com/a/61147060/11394539" target="_blank" rel="noopener">https://stackoverflow.com/a/61147060/11394539</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¦–å…ˆçœ‹ä¸€ä¸‹æœ€ç®€å•çš„ä»£ç &lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; r = &lt;span class=&quot;regexp&quot;&gt;/^(\d&amp;#123;4&amp;#125;)-(\d&amp;#123;1,2&amp;#125;)-(\d&amp;#123;1,2&amp;#125;)$/&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;r.exec(&lt;span class=&quot;string&quot;&gt;&#39;2019-10-08&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;.$&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// 2019&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç åœ¨ Chrome console ä¸­æ‰§è¡Œç»“æœä¸º 2019ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;eval&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;const r = /^(\d&amp;#123;4&amp;#125;)-(\d&amp;#123;1,2&amp;#125;)-(\d&amp;#123;1,2&amp;#125;)$/;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;r.exec(&#39;2019-10-08&#39;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;RegExp.$1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;`&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// &#39;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;é‡æ–°æ‰“å¼€ä¸€ä¸ª Chrome console&lt;/code&gt;, ç„¶åæ‰§è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œç»“æœä¸º&lt;code&gt;ç©ºå­—ç¬¦ä¸²&lt;/code&gt;ï¼Œ
ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå‘ç°åœ¨ eval ä¸­æ‰§è¡Œ regxçš„å­—é¢é‡æ—¶ï¼Œéœ€è¦&lt;code&gt;é¢å¤–è½¬ä¹‰&lt;/code&gt;åæ–œçº¿ï¼Œå³ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;eval&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;const r = /^(\\d&amp;#123;4&amp;#125;)-(\\d&amp;#123;1,2&amp;#125;)-(\\d&amp;#123;1,2&amp;#125;)$/;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;r.exec(&#39;2019-10-08&#39;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;RegExp.$1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;`&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// &#39;2019&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªç®€å•çš„ WebAssembly ç¼–è¯‘æµç¨‹ demo</title>
    <link href="https://lilong7676.github.io/2022/08/25/WebAssembly/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84WebAssembly%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8Bdemo/"/>
    <id>https://lilong7676.github.io/2022/08/25/WebAssembly/ä¸€ä¸ªç®€å•çš„WebAssemblyç¼–è¯‘æµç¨‹demo/</id>
    <published>2022-08-25T08:09:19.000Z</published>
    <updated>2022-08-26T06:25:27.196Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸‹å¦‚ä½•è®²ä¸€ä¸ªç®€å•çš„ç¨‹åºç¼–è¯‘ä¸º wasmã€‚ç”±äºæˆ‘æ˜¯macç¯å¢ƒï¼Œæ‰€ä»¥ä»¥ä¸‹ä»¥macç¯å¢ƒä¸ºä¸»ï¼Œå…¶ä»–ç¯å¢ƒè¯·å‚è€ƒ <a href="https://github.com/emscripten-core/emsdk" target="_blank" rel="noopener">å®˜æ–¹github</a>ã€‚</p><a id="more"></a><h2 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶:"></a>å‰ç½®æ¡ä»¶:</h2><p>gitã€cmakeã€Xcode(ä¸»è¦æ˜¯llvm, linuxä¸ºGCC)ã€Python 2.7.x</p><h2 id="ç¼–è¯‘-emsdk"><a href="#ç¼–è¯‘-emsdk" class="headerlink" title="ç¼–è¯‘ emsdk:"></a>ç¼–è¯‘ emsdk:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/juj/emsdk.git</span><br><span class="line">$ <span class="built_in">cd</span> emsdk</span><br><span class="line">$ ./emsdk install latest</span><br><span class="line">$ ./emsdk activate latest</span><br></pre></td></tr></table></figure><p>å¦‚æœå¸Œæœ›å°† emsdk åŠ å…¥åˆ°ç»ˆç«¯çš„ç¯å¢ƒå˜é‡é‡Œï¼Œåˆ™æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> <span class="string">"&#123;path_to_emsdk&#125;/emsdk_env.sh"</span></span><br></pre></td></tr></table></figure><h2 id="ç¼–è¯‘ä¸€ä¸ªdemoè¯•è¯•å§ï¼š"><a href="#ç¼–è¯‘ä¸€ä¸ªdemoè¯•è¯•å§ï¼š" class="headerlink" title="ç¼–è¯‘ä¸€ä¸ªdemoè¯•è¯•å§ï¼š"></a>ç¼–è¯‘ä¸€ä¸ªdemoè¯•è¯•å§ï¼š</h2><ol><li><p>æ–°å»ºä¸€ä¸ª hello.cï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"hello world\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ emcc hello.c -s WASM=1 -o hello.html</span><br></pre></td></tr></table></figure></li></ol><p>æ³¨æ„ *-s WASM=1 * å‚æ•°ï¼Œä¸åŠ è¿™ä¸ªè¯ï¼Œä¼šç¼–è¯‘ä¸ºasm.jsã€‚</p><p>å¦‚æœæƒ³è¦ç”Ÿæˆä¸€ä¸ªæ¨¡æ¿ html é¡µé¢ï¼Œåˆ™è¾“å‡ºæ–‡ä»¶çš„æ ¼å¼éœ€ä¸º htmlï¼Œå³ * -o hello.html *ã€‚</p><p><img src="https://raw.githubusercontent.com/lilong7676/Picture/master/blog/image/20220825180332.png" alt="ç”Ÿæˆçš„æ–‡ä»¶"></p><ol start="3"><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ emrun å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª http åè®®çš„ web server æ¥å±•ç¤ºæˆ‘ä»¬ç¼–è¯‘åçš„æ–‡ä»¶ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ emrun --no_browser --port 8080 .</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨æµè§ˆå™¨æ‰“å¼€ <a href="http://0.0.0.0:8080/hello.htmlï¼š" target="_blank" rel="noopener">http://0.0.0.0:8080/hello.htmlï¼š</a><br><img src="https://raw.githubusercontent.com/lilong7676/Picture/master/blog/image/20220825180019.png" alt="æ•ˆæœå›¾"></li></ol><h2 id="å°è¯•åŠ å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“è¿›è¡Œç¼–è¯‘"><a href="#å°è¯•åŠ å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“è¿›è¡Œç¼–è¯‘" class="headerlink" title="å°è¯•åŠ å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“è¿›è¡Œç¼–è¯‘"></a>å°è¯•åŠ å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“è¿›è¡Œç¼–è¯‘</h2><p>è¿™é‡Œæˆ‘é€‰æ‹©å°† <a href="https://github.com/DaveGamble/cJSON" target="_blank" rel="noopener">cJSON</a> è¿™ä¸ªåº“ç¼–è¯‘ä¸º wasm:</p><ol><li><p>ä» github ä¸‹è½½ cJSOM æºç åˆ°é¡¹ç›®çš„ vendor æ–‡ä»¶å¤¹</p></li><li><p>æ–°å»º main.cï¼Œå†…å®¹ä¸º:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cJSON/cJSON.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> jsonstr[] = <span class="string">"&#123;\"data\":\"Hello World!!!\"&#125;"</span>;</span><br><span class="line">    cJSON *json = cJSON_Parse(jsonstr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> cJSON *data = cJSON_GetObjectItem(json, <span class="string">"data"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, cJSON_GetStringValue(data));</span><br><span class="line"></span><br><span class="line">    cJSON_Delete(json);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»º CMakeLists.txt:</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>) <span class="comment"># æ ¹æ®ä½ çš„éœ€æ±‚è¿›è¡Œä¿®æ”¹</span></span><br><span class="line"><span class="keyword">project</span>(sample C)</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_STANDARD <span class="number">11</span>) <span class="comment"># æ ¹æ®ä½ çš„Cç¼–è¯‘å™¨æ”¯æŒæƒ…å†µè¿›è¡Œä¿®æ”¹</span></span><br><span class="line"><span class="keyword">set</span>(CMAKE_EXECUTABLE_SUFFIX <span class="string">".html"</span>) <span class="comment"># ç¼–è¯‘ç”Ÿæˆ.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include_directories</span>(vendor) <span class="comment"># ä½¿å¾—æˆ‘ä»¬èƒ½å¼•ç”¨ç¬¬ä¸‰æ–¹åº“çš„å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_subdirectory</span>(vendor/cJSON)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span>(sample main.c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®Emscriptençš„ç¼–è¯‘é“¾æ¥å‚æ•°ï¼Œæˆ‘ä»¬ç­‰ç­‰ä¼šè®²åˆ°ä¸€äº›å¸¸ç”¨å‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set_target_properties</span>(sample PROPERTIES LINK_FLAGS <span class="string">"-s EXIT_RUNTIME=1"</span>)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(sample cjson) <span class="comment"># å°†ç¬¬ä¸‰æ–¹åº“ä¸ä¸»ç¨‹åºè¿›è¡Œé“¾æ¥</span></span><br></pre></td></tr></table></figure></li><li><p>æ–°å»º build æ–‡ä»¶å¤¹ï¼Œå¹¶æ‰§è¡Œç¼–è¯‘æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir build</span><br><span class="line">$ <span class="built_in">cd</span> build</span><br><span class="line">$ emcmake cmake ..</span><br><span class="line">$ emmake make</span><br></pre></td></tr></table></figure></li><li><p>æ­¤æ—¶ä¼šå‘ç°æ§åˆ¶å°æŠ¥ç±»ä¼¼äºä¸‹é¢çš„é”™è¯¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[  6%] Linking C executable sample.html</span><br><span class="line">wasm-ld: error: vendor/cJSON/libcjson.a(cJSON.c.o): undefined symbol: __stack_chk_guard</span><br></pre></td></tr></table></figure></li><li><p>è§£å†³ä¸Šè¿°é”™è¯¯çš„åŠæ³•æ˜¯ä¿®æ”¹ cJSON çš„ CMakeLists.txt ä¸­çš„ -fstack-protector-strong ä¿®æ”¹ä¸º -fno-stack-protectorï¼Œç„¶åé‡å¤æ­¥éª¤4</p></li><li><p>æ­¤æ—¶ build æ–‡ä»¶å¤¹å†…å·²ç”Ÿæˆ wasmï¼š<br><img src="https://raw.githubusercontent.com/lilong7676/Picture/master/blog/image/20220826140809.png" alt="ç”Ÿæˆçš„wasm"></p></li><li><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åï¼Œåœ¨æµè§ˆå™¨ localhost:8080/sample.html æŸ¥çœ‹å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emrun --no_browser --port 8080 .</span><br></pre></td></tr></table></figure></li></ol><h2 id="åç»­å†å°è¯•å°†-flutter-jsdom-çš„-bridge-å±‚æ‰“åŒ…ä¸º-wasmï¼Œéœ€è¦å…ˆå¥½å¥½æ¶ˆåŒ–ä¸‹ğŸ˜‚"><a href="#åç»­å†å°è¯•å°†-flutter-jsdom-çš„-bridge-å±‚æ‰“åŒ…ä¸º-wasmï¼Œéœ€è¦å…ˆå¥½å¥½æ¶ˆåŒ–ä¸‹ğŸ˜‚" class="headerlink" title="åç»­å†å°è¯•å°† flutter-jsdom çš„ bridge å±‚æ‰“åŒ…ä¸º wasmï¼Œéœ€è¦å…ˆå¥½å¥½æ¶ˆåŒ–ä¸‹ğŸ˜‚"></a>åç»­å†å°è¯•å°† <a href="https://github.com/lilong7676/flutter-jsdom" target="_blank" rel="noopener">flutter-jsdom</a> çš„ bridge å±‚æ‰“åŒ…ä¸º wasmï¼Œéœ€è¦å…ˆå¥½å¥½æ¶ˆåŒ–ä¸‹ğŸ˜‚</h2><h4 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h4><ol><li><p><a href="https://cloud.tencent.com/developer/news/690454" target="_blank" rel="noopener">https://cloud.tencent.com/developer/news/690454</a></p></li><li><p><a href="http://webassembly.org.cn/getting-started/developers-guide/" target="_blank" rel="noopener">http://webassembly.org.cn/getting-started/developers-guide/</a></p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸‹å¦‚ä½•è®²ä¸€ä¸ªç®€å•çš„ç¨‹åºç¼–è¯‘ä¸º wasmã€‚ç”±äºæˆ‘æ˜¯macç¯å¢ƒï¼Œæ‰€ä»¥ä»¥ä¸‹ä»¥macç¯å¢ƒä¸ºä¸»ï¼Œå…¶ä»–ç¯å¢ƒè¯·å‚è€ƒ &lt;a href=&quot;https://github.com/emscripten-core/emsdk&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜æ–¹github&lt;/a&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="WebAssembly" scheme="https://lilong7676.github.io/categories/WebAssembly/"/>
    
    
      <category term="WebAssembly" scheme="https://lilong7676.github.io/tags/WebAssembly/"/>
    
  </entry>
  
  <entry>
    <title>å‚è€ƒiOSå¼€å‘ä¸­çš„ UINavigationController çš„æ€æƒ³ï¼Œå®ç°ä¸€ä¸ª React NavigationController</title>
    <link href="https://lilong7676.github.io/2022/08/25/uncategorized/%E5%8F%82%E8%80%83iOS%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84-UINavigationController-%E7%9A%84%E6%80%9D%E6%83%B3%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA-React-NavigationController/"/>
    <id>https://lilong7676.github.io/2022/08/25/uncategorized/å‚è€ƒiOSå¼€å‘ä¸­çš„-UINavigationController-çš„æ€æƒ³ï¼Œå®ç°ä¸€ä¸ª-React-NavigationController/</id>
    <published>2022-08-25T07:33:09.000Z</published>
    <updated>2022-08-25T07:58:21.398Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‚è€ƒiOSå¼€å‘ä¸­çš„-UINavigationController-çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼-iOS-é¡µé¢è½¬åœºçš„æ•ˆæœã€‚"><a href="#å‚è€ƒiOSå¼€å‘ä¸­çš„-UINavigationController-çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼-iOS-é¡µé¢è½¬åœºçš„æ•ˆæœã€‚" class="headerlink" title="å‚è€ƒiOSå¼€å‘ä¸­çš„ UINavigationController çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼ iOS é¡µé¢è½¬åœºçš„æ•ˆæœã€‚"></a>å‚è€ƒiOSå¼€å‘ä¸­çš„ UINavigationController çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼ iOS é¡µé¢è½¬åœºçš„æ•ˆæœã€‚</h4><p>githubï¼š<a href="https://github.com/lilong7676/simple-chat/tree/main/packages/navigation-controller" target="_blank" rel="noopener">navigation-controller</a></p><ul><li>ä½¿ç”¨æ–¹å¼<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install @lilong767676/navigation-controller</span><br></pre></td></tr></table></figure></li></ul><a id="more"></a>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NavigationController &#125; <span class="keyword">from</span> <span class="string">'@lilong767676/navigation-controller'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆåˆ›å»ºè·¯ç”±</span></span><br><span class="line"><span class="comment">// è·¯ç”±å - é¡µé¢ é…ç½®</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> routes = &#123;</span><br><span class="line">  root: App,</span><br><span class="line">  [RouteNames.addFriendPage]: AddFriendsPage,</span><br><span class="line">  [RouteNames.newFriendsPage]: NewFriendsPage,</span><br><span class="line">  [RouteNames.chatHome]: ChatHome,</span><br><span class="line">  [RouteNames.chatPage]: ChatPage,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ– NavigationController,å•ä¾‹æ¨¡å¼ï¼Œä¿è¯å…¨å±€å”¯ä¸€</span></span><br><span class="line"><span class="keyword">const</span> naviController = <span class="keyword">new</span> NavigationController(routes);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½® rootContainer</span></span><br><span class="line">naviController.setRootContainer(ele);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢è·³è½¬</span></span><br><span class="line">NavigationController.push(RouteNames.addFriendPage, props);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›ä¸Šä¸€é¡µé¢</span></span><br><span class="line">NavigationController.pop();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”€æ¯ NavigationController</span></span><br><span class="line">naviController.destroy();</span><br></pre></td></tr></table></figure><h4 id="æ•ˆæœï¼š"><a href="#æ•ˆæœï¼š" class="headerlink" title="æ•ˆæœï¼š"></a>æ•ˆæœï¼š</h4><p><img src="https://raw.githubusercontent.com/lilong7676/Picture/master/blog/image/2022-08-17%2014.56.19.gif" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å‚è€ƒiOSå¼€å‘ä¸­çš„-UINavigationController-çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼-iOS-é¡µé¢è½¬åœºçš„æ•ˆæœã€‚&quot;&gt;&lt;a href=&quot;#å‚è€ƒiOSå¼€å‘ä¸­çš„-UINavigationController-çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼-iOS-é¡µé¢è½¬åœºçš„æ•ˆæœã€‚&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒiOSå¼€å‘ä¸­çš„ UINavigationController çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼ iOS é¡µé¢è½¬åœºçš„æ•ˆæœã€‚&quot;&gt;&lt;/a&gt;å‚è€ƒiOSå¼€å‘ä¸­çš„ UINavigationController çš„æ€æƒ³ï¼Œå®ç°äº†åœ¨Reacté¡¹ç›®ä¸­çš„ç±»ä¼¼ iOS é¡µé¢è½¬åœºçš„æ•ˆæœã€‚&lt;/h4&gt;&lt;p&gt;githubï¼š&lt;a href=&quot;https://github.com/lilong7676/simple-chat/tree/main/packages/navigation-controller&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;navigation-controller&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ–¹å¼&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install @lilong767676/navigation-controller&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªç®€å•çš„web IMç¨‹åº</title>
    <link href="https://lilong7676.github.io/2022/08/25/web/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84web-IM%E7%A8%8B%E5%BA%8F/"/>
    <id>https://lilong7676.github.io/2022/08/25/web/ä¸€ä¸ªç®€å•çš„web-IMç¨‹åº/</id>
    <published>2022-08-25T07:24:03.000Z</published>
    <updated>2022-08-25T09:31:27.204Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸»è¦æŠ€æœ¯æ ˆ"><a href="#ä¸»è¦æŠ€æœ¯æ ˆ" class="headerlink" title="ä¸»è¦æŠ€æœ¯æ ˆ"></a>ä¸»è¦æŠ€æœ¯æ ˆ</h3><ul><li>React</li><li>Indexeddb(Dexie)</li><li>Socket.io</li><li>Nodejs + Express + typeorm + Mysql + Redis</li><li>Pnpm monorepo</li><li>Docker compose + Github Actions CI</li></ul><p>å®ç°ç»†èŠ‚è¯·æŸ¥çœ‹githubä»“åº“: <a href="https://github.com/lilong7676/simple-chat" target="_blank" rel="noopener">simple-chat</a></p><a id="more"></a><h3 id="ç›®å‰ä¸»è¦åŠŸèƒ½"><a href="#ç›®å‰ä¸»è¦åŠŸèƒ½" class="headerlink" title="ç›®å‰ä¸»è¦åŠŸèƒ½:"></a>ç›®å‰ä¸»è¦åŠŸèƒ½:</h3><ul><li>user register &amp; login</li><li>single chat</li></ul><h3 id="start-dev"><a href="#start-dev" class="headerlink" title="start dev:"></a>start dev:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pnpm install &amp;&amp; npm run dev-server &amp;&amp; npm run dev-static</span><br></pre></td></tr></table></figure><p>then open <em>localhost:3000/app</em> in browser.</p><h3 id="build-for-production"><a href="#build-for-production" class="headerlink" title="build for production:"></a>build for production:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker compose up</span><br></pre></td></tr></table></figure><p>then open <em>localhost/app</em> in browser.</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ä¸»è¦æŠ€æœ¯æ ˆ&quot;&gt;&lt;a href=&quot;#ä¸»è¦æŠ€æœ¯æ ˆ&quot; class=&quot;headerlink&quot; title=&quot;ä¸»è¦æŠ€æœ¯æ ˆ&quot;&gt;&lt;/a&gt;ä¸»è¦æŠ€æœ¯æ ˆ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;React&lt;/li&gt;
&lt;li&gt;Indexeddb(Dexie)&lt;/li&gt;
&lt;li&gt;Socket.io&lt;/li&gt;
&lt;li&gt;Nodejs + Express + typeorm + Mysql + Redis&lt;/li&gt;
&lt;li&gt;Pnpm monorepo&lt;/li&gt;
&lt;li&gt;Docker compose + Github Actions CI&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ç°ç»†èŠ‚è¯·æŸ¥çœ‹githubä»“åº“: &lt;a href=&quot;https://github.com/lilong7676/simple-chat&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;simple-chat&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="web" scheme="https://lilong7676.github.io/categories/web/"/>
    
    
      <category term="React" scheme="https://lilong7676.github.io/tags/React/"/>
    
      <category term="Docker" scheme="https://lilong7676.github.io/tags/Docker/"/>
    
      <category term="CI/CD" scheme="https://lilong7676.github.io/tags/CI-CD/"/>
    
      <category term="Indexeddb" scheme="https://lilong7676.github.io/tags/Indexeddb/"/>
    
      <category term="nodejs" scheme="https://lilong7676.github.io/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å®ç°ä¸€ä¸ªjsæµè§ˆå™¨ç«¯æ²™ç®±</title>
    <link href="https://lilong7676.github.io/2022/01/21/javascript/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAjs%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%E6%B2%99%E7%AE%B1/"/>
    <id>https://lilong7676.github.io/2022/01/21/javascript/å¦‚ä½•å®ç°ä¸€ä¸ªjsæµè§ˆå™¨ç«¯æ²™ç®±/</id>
    <published>2022-01-21T01:39:16.000Z</published>
    <updated>2022-01-21T02:22:22.132Z</updated>
    
    <content type="html"><![CDATA[<ul><li>ä»€ä¹ˆæ˜¯æ²™ç®±?åŸºæœ¬åŸç†æ˜¯ä»€ä¹ˆ?  </li></ul><p>æ²™ç®±çš„ç›®çš„å…¶å®å°±æ˜¯éš”ç¦»å˜é‡,ä»£ç†æŸäº›å˜é‡,é˜²æ­¢æ±¡æŸ“å®¿ä¸»ç¯å¢ƒ. </p><a id="more"></a><p>åœ¨æµè§ˆå™¨ä¸­,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ js é—­åŒ…çš„èƒ½åŠ›,åˆ©ç”¨å˜é‡ä½œç”¨åŸŸå»æ¨¡æ‹Ÿä¸€ä¸ªæ²™ç®±ç¯å¢ƒ,æœ€ç®€å•çš„ä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">window</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.document);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(&#123;<span class="attr">document</span>: <span class="string">'fakedocument'</span>&#125;);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ®µä»£ç çš„è¾“å‡ºè‚¯å®šæ˜¯ fakedocument, è€Œä¸æ˜¯æµè§ˆå™¨åŸç”Ÿçš„document.  </p><ul><li>å®ç°éš¾ç‚¹:å¦‚ä½•æ¨¡æ‹Ÿæµè§ˆå™¨åŸç”Ÿwindow?</li></ul><p>æœ‰ä¸¤ä¸ªæ–¹æ¡ˆ,ä¸€æ˜¯æ ¹æ® ECMA è§„èŒƒå®ç°è¿™ä¸€å †çš„æµè§ˆå™¨åŸç”Ÿå¯¹è±¡,æ˜¾ç„¶è¿™ä¸ªæˆæœ¬å¤ªé«˜.<br>æ‰€ä»¥è¿™é‡Œæœ‰ä¸ªå–å·§çš„åŠæ³•,æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª iframeå¹¶è®¾ç½®src=â€about:blankâ€,è¿™ä¸ªæ—¶å€™å¯ä»¥ç¡®ä¿ url åŒåŸŸ,ä¹Ÿä¸ä¼šå‘ç”Ÿèµ„æºåŠ è½½.<br>ç„¶åå–å‡º iframe å¯¹åº”çš„ <strong>contentWindow</strong>,åˆ©ç”¨å…¶<strong>å¤©ç„¶éš”ç¦»</strong>ç‰¹æ€§,çœå»äº†è‡ªå·±å®ç°çš„æˆæœ¬:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨æ²™ç›’ç¯å¢ƒä¸­æ‰§è¡Œä»£ç </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">evalScript(code: string) &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆ©ç”¨ Functionæ„é€ å‡½æ•°,æ„é€ æ²™ç®±ç¯å¢ƒ,ç»™ code åŠ ä¸€å±‚ wrap,åˆ›å»ºä¸€ä¸ªé—­åŒ…,</span></span><br><span class="line"><span class="comment">   * æŠŠéœ€è¦éš”ç¦»çš„æµè§ˆå™¨åŸç”Ÿå¯¹è±¡å˜æˆä»å‡½æ•°é—­åŒ…ä¸­è·å–</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> resolver = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">`</span></span><br><span class="line"><span class="string">    return function(&#123;window, location, history, document&#125;) &#123;</span></span><br><span class="line"><span class="string">      with(window.__GLOBAL_OVERRIDES_VARS__) &#123;</span></span><br><span class="line"><span class="string">        try &#123;</span></span><br><span class="line"><span class="string">          (function() &#123;</span></span><br><span class="line"><span class="string">            "use strict";</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;code&#125;</span></span></span><br><span class="line"><span class="string">          &#125;)();</span></span><br><span class="line"><span class="string">        &#125; catch(e) &#123;</span></span><br><span class="line"><span class="string">          console.log(e);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  `</span>);</span><br><span class="line">  resolver().call(<span class="keyword">this</span>.window, &#123; ...this &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡proxy ä»£ç† windowçš„è®¿é—®</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">  <span class="keyword">const</span> iframe = <span class="built_in">document</span>.createElement( <span class="string">'iframe'</span> );</span><br><span class="line">  iframe.src = <span class="string">'about:blank'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Window</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(options, context, iframe) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(iframe.contentWindow, &#123;</span><br><span class="line">        <span class="keyword">set</span>(target, name, value) &#123;</span><br><span class="line">        target[name] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">get</span>(target, name) &#123;</span><br><span class="line">        <span class="keyword">switch</span>( name ) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">'document'</span>:</span><br><span class="line">            <span class="keyword">return</span> context.document;</span><br><span class="line">          <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>( <span class="keyword">typeof</span> target[ name ] === <span class="string">'function'</span> &amp;&amp; <span class="regexp">/^[a-z]/</span>.test( name ) )&#123;</span><br><span class="line">          <span class="keyword">return</span> target[ name ].bind &amp;&amp; target[ name ].bind( target );</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> target[ name ];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;ä»€ä¹ˆæ˜¯æ²™ç®±?åŸºæœ¬åŸç†æ˜¯ä»€ä¹ˆ?  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ²™ç®±çš„ç›®çš„å…¶å®å°±æ˜¯éš”ç¦»å˜é‡,ä»£ç†æŸäº›å˜é‡,é˜²æ­¢æ±¡æŸ“å®¿ä¸»ç¯å¢ƒ. &lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://lilong7676.github.io/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>iOSé€†å‘å­¦ä¹ </title>
    <link href="https://lilong7676.github.io/2021/05/09/iOS/iOS%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0/"/>
    <id>https://lilong7676.github.io/2021/05/09/iOS/iOSé€†å‘å­¦ä¹ /</id>
    <published>2021-05-09T08:20:20.000Z</published>
    <updated>2022-01-07T08:15:41.442Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‚è€ƒèµ„æ–™ï¼š</p></blockquote><ul><li><a href="https://www.jianshu.com/p/f229f8df3220" target="_blank" rel="noopener">2019å¹´iOSé€†å‘æœ€æ–°å­¦ä¹ èµ„æ–™ï¼ˆä¸€ï¼‰ï¼šç†è®ºåŸºç¡€å’Œå·¥å…·å‡†å¤‡</a></li><li><a href="https://www.jianshu.com/p/8d42d71fb9e1" target="_blank" rel="noopener">iOSé€†å‘, åŸºç¡€å·¥å…·ä¹‹LLDBå’Œdebugserver</a></li><li><a href="https://juejin.cn/post/6844904094360961037" target="_blank" rel="noopener">debugserver+lldbä½¿ç”¨</a></li><li><a href="https://github.com/AloneMonkey/MonkeyDev/wiki/%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener">MonkeyDev æ–‡æ¡£</a></li><li><a href="https://www.jianshu.com/p/991b13c10c1f" target="_blank" rel="noopener">Cycript åŸºæœ¬ä½¿ç”¨</a></li><li><a href="https://juejin.cn/post/6942419453879517192" target="_blank" rel="noopener">å°è°·çš„è¶³è¿¹2 â€“ iOSé€†å‘å®‰é˜²ä»å…¥é—¨åˆ°ç§ƒå¤´</a></li><li><a href="https://blog.csdn.net/qq_34003239/article/details/97625507" target="_blank" rel="noopener">lldbæ’ä»¶ å¼ºå¤§çš„è°ƒè¯•ç¥å™¨Chisel</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/f229f8df3220&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;2019å¹´iOSé€†å‘æœ€
      
    
    </summary>
    
      <category term="iOS" scheme="https://lilong7676.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://lilong7676.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>macç»ˆç«¯å®ç”¨å‘½ä»¤</title>
    <link href="https://lilong7676.github.io/2019/06/12/Shell%E8%84%9A%E6%9C%AC/%E7%BB%88%E7%AB%AF%E5%AE%9E%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://lilong7676.github.io/2019/06/12/Shellè„šæœ¬/ç»ˆç«¯å®ç”¨å‘½ä»¤/</id>
    <published>2019-06-12T00:16:41.000Z</published>
    <updated>2022-01-07T08:42:00.823Z</updated>
    
    <content type="html"><![CDATA[<p>æŸ¥çœ‹è¯¥ç›®å½•ä¸‹å„ä¸ªæ–‡ä»¶å’Œå­ç›®å½•å„å å¤šå°‘ç©ºé—´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh *</span><br></pre></td></tr></table></figure><a id="more"></a><p>æ‰¹é‡å¤åˆ¶æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp *.png *.jpeg *.gif /destpath (å‰ªåˆ‡çš„è¯ cpæ¢æˆ mv)</span><br></pre></td></tr></table></figure><p>å¿«é€Ÿåˆ›å»ºä¾¿ç¬º<br>é€‰ä¸­æ–‡å­—ï¼Œç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shift + command + Y</span><br></pre></td></tr></table></figure><p>ä¿æŒçª—å£çš„æ¿€æ´»çŠ¶æ€<br>å½“ä½ åœ¨å½“å‰çª—å£æ“ä½œæ—¶ï¼Œæƒ³æ‹–æ‹½å…¶ä»–çª—å£ï¼Œ å¯ä»¥æŒ‰ä½<code>command</code>å†è¿›è¡Œæ‹– </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŸ¥çœ‹è¯¥ç›®å½•ä¸‹å„ä¸ªæ–‡ä»¶å’Œå­ç›®å½•å„å å¤šå°‘ç©ºé—´&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;du -sh *&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Shellè„šæœ¬" scheme="https://lilong7676.github.io/categories/Shell%E8%84%9A%E6%9C%AC/"/>
    
    
      <category term="shell" scheme="https://lilong7676.github.io/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>ç¬”è®°ï¼šShellåŸºæœ¬è¯­æ³•</title>
    <link href="https://lilong7676.github.io/2019/06/11/Shell%E8%84%9A%E6%9C%AC/%E7%AC%94%E8%AE%B0%EF%BC%9AShell%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"/>
    <id>https://lilong7676.github.io/2019/06/11/Shellè„šæœ¬/ç¬”è®°ï¼šShellåŸºæœ¬è¯­æ³•/</id>
    <published>2019-06-11T11:35:01.000Z</published>
    <updated>2022-01-07T08:31:35.328Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// test.sh</span><br><span class="line">#! æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¿è¡ŒShellè„šæœ¬çš„æ–¹æ³•</span><br><span class="line">1 ä½œä¸ºå¯æ‰§è¡Œç¨‹åº</span><br><span class="line">chmod +x ./test.sh  #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™</span><br><span class="line">./test.sh  #æ‰§è¡Œè„šæœ¬</span><br><span class="line">    </span><br><span class="line">2 ä½œä¸ºè§£é‡Šå™¨å‚æ•°</span><br><span class="line">/bin/sh test.sh</span><br></pre></td></tr></table></figure><h1 id="Shellå˜é‡"><a href="#Shellå˜é‡" class="headerlink" title="Shellå˜é‡"></a>Shellå˜é‡</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#å®šä¹‰å˜é‡</span><br><span class="line">my_name=&quot;foo&quot;</span><br><span class="line"></span><br><span class="line">#ä½¿ç”¨å˜é‡ åªéœ€è¦åœ¨å˜é‡åå‰åŠ ä¸Š $ ç¬¦å·</span><br><span class="line">echo $my_name</span><br><span class="line">#åŠ èŠ±æ‹¬å·è§†ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œ</span><br><span class="line">echo $&#123;my_name&#125;</span><br><span class="line"></span><br><span class="line">for skill in Java Coffee; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">#ä½¿ç”¨readonlyå°†å˜é‡è®¾ä¸ºåªè¯»å˜é‡</span><br><span class="line">my_name=&quot;foo&quot;</span><br><span class="line">readonly my_name #å¦‚æœå°è¯•ä¿®æ”¹å˜é‡å€¼ï¼Œä¼šæŠ¥é”™</span><br><span class="line">my_name=&quot;bar&quot; #my_name: readonly variable</span><br><span class="line"></span><br><span class="line">#åˆ é™¤å˜é‡</span><br><span class="line">#å˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ã€‚unset å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ã€‚</span><br><span class="line">unset my_name</span><br><span class="line">echo my_name #å°†æ²¡æœ‰ä»»ä½•è¾“å‡º</span><br></pre></td></tr></table></figure><h2 id="shellå˜é‡ç±»å‹-ä¸‰ç§"><a href="#shellå˜é‡ç±»å‹-ä¸‰ç§" class="headerlink" title="shellå˜é‡ç±»å‹ ä¸‰ç§"></a>shellå˜é‡ç±»å‹ ä¸‰ç§</h2><ol><li>å±€éƒ¨å˜é‡</li></ol><p>å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡</p><ol start="2"><li>ç¯å¢ƒå˜é‡</li></ol><p>æ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚ </p><ol start="3"><li><p>shellå˜é‡</p><p>shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</p><h3 id="shellå­—ç¬¦ä¸²"><a href="#shellå­—ç¬¦ä¸²" class="headerlink" title="shellå­—ç¬¦ä¸²"></a>shellå­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚å•åŒå¼•å·çš„åŒºåˆ«è·ŸPHPç±»ä¼¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> your_name=&quot;foo&quot;</span><br><span class="line"># ä½¿ç”¨åŒå¼•å·æ‹¼æ¥</span><br><span class="line">greeting=&quot;hello, &quot;$your_name&quot; !&quot;</span><br><span class="line">greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;</span><br><span class="line">echo $greeting  $greeting_1</span><br><span class="line"># ä½¿ç”¨å•å¼•å·æ‹¼æ¥</span><br><span class="line">greeting_2=&apos;hello, &apos;$your_name&apos; !&apos;</span><br><span class="line">greeting_3=&apos;hello, $&#123;your_name&#125; !&apos;</span><br><span class="line">echo $greeting_2  $greeting_3</span><br><span class="line"></span><br><span class="line">è¾“å‡º</span><br><span class="line">hello, foo ! hello, foo !</span><br><span class="line">hello, foo ! hello, $&#123;your_name&#125; !</span><br><span class="line"></span><br><span class="line">#è·å–å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="line">str=&quot;abcd&quot;</span><br><span class="line">echo $&#123;#str&#125; #è¾“å‡º 4</span><br><span class="line"></span><br><span class="line">#æå–å­ä¸² </span><br><span class="line">#ä»¥ä¸‹å®ä¾‹ä»å­—ç¬¦ä¸²ç¬¬ 2 ä¸ªå­—ç¬¦å¼€å§‹æˆªå– 4 ä¸ªå­—ç¬¦</span><br><span class="line">str=&quot;hello world&quot;</span><br><span class="line">echo $&#123;str:1:4&#125; $è¾“å‡º ello</span><br><span class="line"></span><br><span class="line">#æŸ¥æ‰¾å­å­—ç¬¦ä¸²çš„ä½ç½®</span><br><span class="line">#æŸ¥æ‰¾å­—ç¬¦ l æˆ– o çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª)ï¼š</span><br><span class="line">string=&quot;hello world&quot;</span><br><span class="line">echo `expr index &quot;$string&quot; lo`  # è¾“å‡º 2</span><br></pre></td></tr></table></figure></li></ol><h3 id="shell-æ•°ç»„"><a href="#shell-æ•°ç»„" class="headerlink" title="shell æ•°ç»„"></a>shell æ•°ç»„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#æ•°ç»„ æ•°ç»„å=(å€¼1 å€¼2 ... å€¼n)</span><br><span class="line">arr=(</span><br><span class="line">v1</span><br><span class="line">v2</span><br><span class="line">v3</span><br><span class="line">)</span><br><span class="line">echo &quot;æ•°ç»„ $&#123;arr[1]&#125;&quot;</span><br><span class="line">#ä½¿ç”¨ @ ç¬¦å·å¯ä»¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ </span><br><span class="line">echo â€œæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´  $&#123;arr[@]&#125;â€</span><br><span class="line">#è·å–æ•°ç»„çš„é•¿åº¦</span><br><span class="line">echo &quot;æ•°ç»„çš„é•¿åº¦ $&#123;#arr[@]&#125;&quot;</span><br><span class="line">#æˆ–è€…</span><br><span class="line">echo &quot;æ•°ç»„çš„é•¿åº¦ $&#123;#arr[*]&#125;&quot;</span><br><span class="line">#è·å–æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦</span><br><span class="line">echo &quot;æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ çš„é•¿åº¦ $&#123;#arr[1]&#125;&quot;</span><br><span class="line"></span><br><span class="line">#è¿˜å¯ä»¥å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼š</span><br><span class="line"></span><br><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[n]=valuen</span><br></pre></td></tr></table></figure><h3 id="shellä¼ é€’å‚æ•°"><a href="#shellä¼ é€’å‚æ•°" class="headerlink" title="shellä¼ é€’å‚æ•°"></a>shellä¼ é€’å‚æ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># $ ./test.sh 1 222 3 4</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;shell ä¼ é€’å‚æ•°å®ä¾‹&quot;</span><br><span class="line">echo &quot;æ‰§è¡Œçš„æ–‡ä»¶å $0&quot;</span><br><span class="line">echo &quot;ç¬¬ä¸€ä¸ªå‚æ•° $1&quot;</span><br><span class="line">echo &quot;ç¬¬äºŒä¸ªå‚æ•° $2&quot;</span><br><span class="line">echo &quot;ç¬¬ä¸‰ä¸ªå‚æ•° $3&quot;</span><br><span class="line">echo &quot;å‚æ•°ä¸ªæ•° $#&quot;</span><br><span class="line">echo &quot;æ‰€æœ‰å‚æ•° $*&quot;</span><br><span class="line">echo &quot;æ‰€æœ‰å‚æ•° åŠ å¼•å· \&quot;$@\&quot;&quot;</span><br><span class="line">echo &quot;è„šæœ¬å½“å‰è¿›ç¨‹ID $$&quot;</span><br><span class="line">echo &quot;åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ID $!&quot;</span><br><span class="line">echo &quot;shellä½¿ç”¨çš„å½“å‰é€‰é¡¹ $-&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;-- \$* æ¼”ç¤º--&quot;</span><br><span class="line">for i in &quot;$*&quot;; do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-- \$@ æ¼”ç¤º--&quot;</span><br><span class="line">for i in &quot;$@&quot;; do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">#è¾“å‡º</span><br><span class="line">shell ä¼ é€’å‚æ•°å®ä¾‹</span><br><span class="line">æ‰§è¡Œçš„æ–‡ä»¶å ./test.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•° 1</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•° 222</span><br><span class="line">ç¬¬ä¸‰ä¸ªå‚æ•° 3</span><br><span class="line">å‚æ•°ä¸ªæ•° 4</span><br><span class="line">æ‰€æœ‰å‚æ•° 1 222 3 4</span><br><span class="line">æ‰€æœ‰å‚æ•° åŠ å¼•å· &quot;1 222 3 4&quot;</span><br><span class="line">è„šæœ¬å½“å‰è¿›ç¨‹ID 20530</span><br><span class="line">åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ID </span><br><span class="line">shellä½¿ç”¨çš„å½“å‰é€‰é¡¹ hB</span><br><span class="line">-- $* æ¼”ç¤º--</span><br><span class="line">1 222 3 4</span><br><span class="line">-- $@ æ¼”ç¤º--</span><br><span class="line">1</span><br><span class="line">222</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="shellç®—æ•°è¿ç®—"><a href="#shellç®—æ•°è¿ç®—" class="headerlink" title="shellç®—æ•°è¿ç®—"></a>shellç®—æ•°è¿ç®—</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">echo &quot;a $a, b $b&quot;</span><br><span class="line"></span><br><span class="line">#åŠ æ³•</span><br><span class="line">val=`expr $a + $b`</span><br><span class="line">echo &quot;a + b: $val&quot;</span><br><span class="line"></span><br><span class="line">#ä¹˜æ³• éœ€è¦è½¬ä¹‰</span><br><span class="line">val=`expr $a \* $b`</span><br><span class="line">echo &quot;a * b: $val&quot;</span><br><span class="line"></span><br><span class="line">#é™¤æ³•</span><br><span class="line">val=`expr $b / $a`</span><br><span class="line">echo &quot;b / a: $val&quot;</span><br><span class="line"></span><br><span class="line">#å–ä½™</span><br><span class="line">val=`expr $a % $b`</span><br><span class="line">echo &quot;a % b: $val&quot;</span><br><span class="line"></span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ $a != $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a ä¸ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">#è¾“å‡º</span><br><span class="line">a 10, b 20</span><br><span class="line">a + b: 30</span><br><span class="line">a * b: 200</span><br><span class="line">b / a: 2</span><br><span class="line">a % b: 10</span><br><span class="line">a ä¸ç­‰äº b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ‰©å±• ä¸‰ç§åŠ æ³•è¿ç®—å†™æ³•</span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">c=`expr $a + $b`</span><br><span class="line"></span><br><span class="line">echo &quot;c: $c&quot;</span><br><span class="line"></span><br><span class="line">d=$[ `expr $a + $b` ]</span><br><span class="line">echo &quot;d: $d&quot;</span><br><span class="line"></span><br><span class="line">e=$[ 10 + 20 ]</span><br><span class="line">echo &quot;e: $e&quot;</span><br></pre></td></tr></table></figure><h3 id="shell-å…³ç³»è¿ç®—ç¬¦"><a href="#shell-å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="shell å…³ç³»è¿ç®—ç¬¦"></a>shell å…³ç³»è¿ç®—ç¬¦</h3><p>å‡è®¾å˜é‡a=10 b=20</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç”¨æ³•ç¤ºä¾‹</th></tr></thead><tbody><tr><td>-eq</td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰</td><td>[ $a -eq $b ] è¿”å› false</td></tr><tr><td>-nq</td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰</td><td>[ $a -nq $b]</td></tr><tr><td>-gt</td><td>&gt;</td><td></td></tr><tr><td>-lg</td><td>&lt;</td><td></td></tr><tr><td>-ge</td><td>&gt;=</td><td></td></tr><tr><td>-le</td><td>&lt;=</td><td></td></tr></tbody></table><h3 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h3><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td>!</td><td>éè¿ç®—</td><td>[ !false ] è¿”å›true</td></tr><tr><td>-o</td><td>æˆ–è¿ç®—</td><td>[ $a -lt 20 -o $b -gt 100]</td></tr><tr><td>-a</td><td>ä¸è¿ç®—</td><td></td></tr></tbody></table><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td>&amp;&amp;</td><td>é€»è¾‘AND</td><td>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</td></tr><tr><td>`</td><td></td><td>`</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</span><br><span class="line">then</span><br><span class="line">   echo &quot;true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;false&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [[ $a -lt 100 || $b -gt 100 ]]</span><br><span class="line">then</span><br><span class="line">   echo &quot;true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;false&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><p>å‡è®¾å˜é‡a=â€abcâ€ b=â€efgâ€</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>=</td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</td><td>[ $a =$b ]è¿”å›false</td></tr><tr><td>!=</td><td></td><td></td></tr><tr><td>-z</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å›true</td><td>[ -z $a ] false</td></tr><tr><td>-n</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º0</td><td>[ -n â€œ$aâ€ ] true</td></tr><tr><td>str</td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å›true</td><td>[ $a ] true</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tips</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ [[ ... ]] æ¡ä»¶åˆ¤æ–­ç»“æ„ï¼Œè€Œä¸æ˜¯ [ ... ]ï¼Œèƒ½å¤Ÿé˜²æ­¢è„šæœ¬ä¸­çš„è®¸å¤šé€»è¾‘é”™è¯¯ã€‚</span><br><span class="line">æ¯”å¦‚ï¼Œ&amp;&amp;ã€||ã€&lt; å’Œ &gt; æ“ä½œç¬¦èƒ½å¤Ÿæ­£å¸¸å­˜åœ¨äº [[ ]] æ¡ä»¶åˆ¤æ–­ç»“æ„ä¸­ï¼Œä½†æ˜¯å¦‚æœå‡ºç°åœ¨ [ ] ç»“æ„ä¸­çš„è¯ï¼Œä¼šæŠ¥é”™ã€‚</span><br></pre></td></tr></table></figure><h3 id="printfè¾“å‡º"><a href="#printfè¾“å‡º" class="headerlink" title="printfè¾“å‡º"></a>printfè¾“å‡º</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">printf å‘½ä»¤æ¨¡ä»¿ C ç¨‹åºåº“ï¼ˆlibraryï¼‰é‡Œçš„ printf() ç¨‹åºã€‚</span><br><span class="line"></span><br><span class="line">printf ç”± POSIX æ ‡å‡†æ‰€å®šä¹‰ï¼Œå› æ­¤ä½¿ç”¨ printf çš„è„šæœ¬æ¯”ä½¿ç”¨ echo ç§»æ¤æ€§å¥½ã€‚</span><br><span class="line"></span><br><span class="line">printf ä½¿ç”¨å¼•ç”¨æ–‡æœ¬æˆ–ç©ºæ ¼åˆ†éš”çš„å‚æ•°ï¼Œå¤–é¢å¯ä»¥åœ¨ printf ä¸­ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åˆ¶å®šå­—ç¬¦ä¸²çš„å®½åº¦ã€å·¦å³å¯¹é½æ–¹å¼ç­‰ã€‚é»˜è®¤ printf ä¸ä¼šåƒ echo è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  \nã€‚</span><br><span class="line"></span><br><span class="line">printf å‘½ä»¤çš„è¯­æ³•ï¼š</span><br><span class="line"></span><br><span class="line">printf  format-string  [arguments...]</span><br><span class="line">å‚æ•°è¯´æ˜ï¼š</span><br><span class="line"></span><br><span class="line">format-string: ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²</span><br><span class="line">arguments: ä¸ºå‚æ•°åˆ—è¡¨ã€‚</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">printf &quot;%-10s %-8s %-4s\n&quot; å§“å æ€§åˆ« ä½“é‡kg  </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­é– ç”· 66.1234 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; æ¨è¿‡ ç”· 48.6543 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­èŠ™ å¥³ 47.9876 </span><br><span class="line"></span><br><span class="line"># format-stringä¸ºåŒå¼•å·</span><br><span class="line">printf &quot;%d %s\n&quot; 1 &quot;abc&quot;</span><br><span class="line"></span><br><span class="line"># å•å¼•å·ä¸åŒå¼•å·æ•ˆæœä¸€æ · </span><br><span class="line">printf &apos;%d %s\n&apos; 1 &quot;abc&quot; </span><br><span class="line"></span><br><span class="line"># æ²¡æœ‰å¼•å·ä¹Ÿå¯ä»¥è¾“å‡º</span><br><span class="line">printf %s abcdef</span><br><span class="line"></span><br><span class="line"># æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡ºï¼Œformat-string è¢«é‡ç”¨</span><br><span class="line">printf %s abc def</span><br><span class="line"></span><br><span class="line">printf &quot;%s\n&quot; abc def</span><br><span class="line"></span><br><span class="line">printf &quot;%s %s %s\n&quot; a b c d e f g h i j</span><br><span class="line"></span><br><span class="line"># å¦‚æœæ²¡æœ‰ argumentsï¼Œé‚£ä¹ˆ %s ç”¨NULLä»£æ›¿ï¼Œ%d ç”¨ 0 ä»£æ›¿</span><br><span class="line">printf &quot;%s and %d \n&quot;</span><br><span class="line"></span><br><span class="line">#è¾“å‡º</span><br><span class="line">å§“å     æ€§åˆ«   ä½“é‡kg</span><br><span class="line">éƒ­é–     ç”·      66.12</span><br><span class="line">æ¨è¿‡     ç”·      48.65</span><br><span class="line">éƒ­èŠ™     å¥³      47.99</span><br><span class="line">1 abc</span><br><span class="line">1 abc</span><br><span class="line">abcdefabcdefabc</span><br><span class="line">def</span><br><span class="line">a b c</span><br><span class="line">d e f</span><br><span class="line">g h i</span><br><span class="line">j  </span><br><span class="line"> and 0</span><br></pre></td></tr></table></figure><h3 id="shellæµç¨‹æ§åˆ¶"><a href="#shellæµç¨‹æ§åˆ¶" class="headerlink" title="shellæµç¨‹æ§åˆ¶"></a>shellæµç¨‹æ§åˆ¶</h3><p>if æ¡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if test $a -lt $b; then</span><br><span class="line">printf &apos;%s\n&apos; &quot;a &lt; b&quot;</span><br><span class="line">elif [[ $a -gt $b ]]; then</span><br><span class="line">echo &quot;a &gt; b&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>for å¾ªç¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">for a in 1 2 3 4 5; do</span><br><span class="line">echo $a  #ä¸è¦å¿˜äº†å˜é‡å‰åŠ  $</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">#ç¬¬äºŒç§å†™æ³•,ç±»ä¼¼äºCè¯­è¨€å†™æ³•</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">for((i=1;i&lt;=5;i++));do</span><br><span class="line">    echo &quot;è¿™æ˜¯ç¬¬ $i æ¬¡è°ƒç”¨&quot;</span><br><span class="line">done;</span><br></pre></td></tr></table></figure><p>while è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">while(( $i&lt;5 ))</span><br><span class="line">do</span><br><span class="line">echo $i</span><br><span class="line">i=`expr $i + 1`</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>until è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=0</span><br><span class="line"></span><br><span class="line">until [ ! $a -lt 10 ]</span><br><span class="line">do</span><br><span class="line">   echo $a</span><br><span class="line">   a=`expr $a + 1`</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>case è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">caseçš„è¯­æ³•å’ŒC familyè¯­è¨€å·®åˆ«å¾ˆå¤§</span><br><span class="line">å®ƒéœ€è¦ä¸€ä¸ªesacï¼ˆå°±æ˜¯caseåè¿‡æ¥ï¼‰ä½œä¸ºç»“æŸæ ‡è®°</span><br><span class="line">æ¯ä¸ªcaseåˆ†æ”¯ç”¨å³åœ†æ‹¬å·ï¼Œç”¨ä¸¤ä¸ªåˆ†å·è¡¨ç¤ºbreakã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &apos;è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:&apos;</span><br><span class="line">echo &apos;ä½ è¾“å…¥çš„æ•°å­—ä¸º:&apos;</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in               #å˜é‡åé¢å¿…é¡»è·Ÿä¸Š in</span><br><span class="line">    1)  echo &apos;ä½ é€‰æ‹©äº† 1&apos;   #æ¯ä¸€ä¸ªæ¨¡å¼å¿…é¡»ä»¥å³æ‹¬å·ç»“æŸ</span><br><span class="line">    ;;                      #ç›¸å½“äºbreak;</span><br><span class="line">    2)  echo &apos;ä½ é€‰æ‹©äº† 2&apos;</span><br><span class="line">    ;;</span><br><span class="line">    3)  echo &apos;ä½ é€‰æ‹©äº† 3&apos;</span><br><span class="line">    ;;</span><br><span class="line">    4)  echo &apos;ä½ é€‰æ‹©äº† 4&apos;</span><br><span class="line">    ;;</span><br><span class="line">    # * ç›¸å½“äº default</span><br><span class="line">    *)  echo &apos;ä½ æ²¡æœ‰è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—&apos;</span><br><span class="line">    ;;</span><br><span class="line">esac    #ç»“æŸcase</span><br></pre></td></tr></table></figure><p>è·³å‡ºå¾ªç¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">break</span><br><span class="line">continue</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#å®šä¹‰å‡½æ•°</span><br><span class="line">demoFun()&#123;</span><br><span class="line">echo &quot;ç¬¬ä¸€ä¸ªshellå‡½æ•°&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#æ‰§è¡Œå‡½æ•°</span><br><span class="line">demoFun</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###å¸¦è¿”å›å€¼çš„å‡½æ•°</span><br><span class="line">funcWithReturn () &#123;</span><br><span class="line">echo &quot;è¾“å…¥a&quot;</span><br><span class="line">read a</span><br><span class="line">echo &quot;è¾“å…¥b&quot;</span><br><span class="line">read b</span><br><span class="line"></span><br><span class="line">echo -e &quot;a + b = \c&quot;</span><br><span class="line">return $(($a + $b))</span><br><span class="line">&#125;</span><br><span class="line">#æ‰§è¡Œå‡½æ•°</span><br><span class="line">funcWithReturn</span><br><span class="line">#é€šè¿‡ $?è·å–å‡½æ•°æ‰§è¡Œåçš„è¿”å›å€¼</span><br><span class="line">echo &quot;$?&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###ç»™å‡½æ•°ä¼ å‚</span><br><span class="line">funWithParam () &#123;</span><br><span class="line">echo $@</span><br><span class="line">echo &quot;å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!&quot;</span><br><span class="line">    echo &quot;ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !&quot;</span><br><span class="line">i=1</span><br><span class="line">for arg in $@; do</span><br><span class="line">echo &quot;ç¬¬$&#123;i&#125;ä¸ªå‚æ•°ä¸º $arg&quot;</span><br><span class="line">i=$(($i+1))</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funWithParam 1 2 3 4 5</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// test.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#! æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo &amp;quot;hello world&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Shellè„šæœ¬" scheme="https://lilong7676.github.io/categories/Shell%E8%84%9A%E6%9C%AC/"/>
    
    
      <category term="shell" scheme="https://lilong7676.github.io/tags/shell/"/>
    
  </entry>
  
</feed>
